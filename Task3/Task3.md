## Требования к безопасности внешних интеграций

### Сетевое взаимодействие

- Платформа партнёра не имеет прямого доступа к внутренним сервисам или базам данных PropDevelopment
- Взаимодействие с платформой партнёра осуществляется через API Gateway
- Вся передача данных осуществляется по защищённому каналу с использованием TLS
- На периметре установлен межсетевой экран (firewall), блокирующий несанкционированные подключения и фильтрующий трафик по разрешённым адресам и портам

### Аутентификация и авторизация

- Для аутентификации используется OAuth2
- API Gateway проверяет наличие действующего токена доступа и прав на выполнение операции
- tenant-core-app дополнительно проверяет права доступа для выполнения управляющих операций
- Для доступа к управляющим операциям (открытие дверей/шлагбаумов) требуется роль или утверждённая привилегия, проверяемая на стороне tenant-core-app
- Ключи доступа хранятся безопасно, используются механизмы ротации токенов

### Обработка данных

- Биометрические данные не передаются во внутренний контур
- Используются только идентификаторы или метки доступа
- Все передаваемые данные шифруются

### Логирование и аудит

- Все запросы от партнёра логируются в API Gateway с указанием идентификатора, времени и типа операции
- В tenant-core-app ведётся внутреннее логирование управляющих действий как управляемых событий
- API Gateway выполняет маршрутизацию, валидацию, аутентификацию и логирование входящих запросов
- Запросы от партнёра ограничены по частоте (rate limiting)
- Логи централизованно собираются в системе логирования